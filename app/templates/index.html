<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catastro SaaS Pro | Visor Envolvente</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="css/tasador.css">
</head>
<body class="dashboard-body">

    <div class="dashboard-wrapper">
        <aside class="side-panel">
            <div class="glass-card">
                <h3>ğŸ›ï¸ Catastro</h3>
                <div class="input-group">
                    <input type="text" id="ref-input" placeholder="Referencia Catastral...">
                    <button id="btn-buscar" class="btn-icon">ğŸ”</button>
                </div>
                <div class="drop-zone mt-sm" id="batch-drop">
                    <span class="text-xs">ğŸ“‚ Arrastra CSV para Lotes</span>
                </div>
            </div>

            <div class="glass-card">
                <h3>ğŸ“‚ Capas KML/GeoJSON</h3>
                <input type="file" id="kml-input" class="hidden">
                <label for="kml-input" class="btn btn-outline btn-sm w-full">Subir Archivos</label>
                <div id="file-list" class="file-list mt-sm"></div>
            </div>
        </aside>

        <main class="map-viewport">
            <div id="main-map"></div>
            <div class="map-overlay-top">
                <span id="coord-display" class="badge">Lat: -- | Lon: --</span>
            </div>
        </main>

        <aside class="side-panel">
            <div class="glass-card flex-grow">
                <h3>ğŸ“Š Afecciones y AnÃ¡lisis</h3>
                <div id="afecciones-container" class="scroll-area">
                    <p class="text-muted text-xs">Esperando datos de parcela...</p>
                </div>
            </div>

            <div class="glass-card">
                <h3>ğŸ–¼ï¸ Capturas de Mapa</h3>
                <div id="preview-gallery" class="image-grid">
                    </div>
            </div>
        </aside>

        <footer class="report-bar glass-card">
            <div class="footer-grid">
                <input type="text" id="rep-author" placeholder="Nombre del TÃ©cnico">
                <input type="text" id="rep-id" placeholder="NÂº Colegiado">
                <div class="logo-upload-box" id="logo-drop">Logo</div>
                <button id="btn-generate-pdf" class="btn btn-success">ğŸ“„ GENERAR INFORME PDF</button>
            </div>
        </footer>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/tasador.js"></script>
</body>
</html>
